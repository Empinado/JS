<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <section class="task">
      <h1>Определение текущего размера окна браузера</h1>
      <p>Ширина окна: <span class="window-size" id="width"></span> px</p>
      <p>Высота окна: <span class="window-size" id="height"></span> px</p>
    </section>

    <section class="task">
      <h1>Потверждение закрытия страницы</h1>
      <p>Это страница с потверждением закрытия</p>
    </section>

    <section class="task">
      <h1>Управление историей переходов</h1>
      <button class="history-button" id="goBack">Вперед</button>
      <button class="history-button" id="goForward">Назад</button>
    </section>

    <script>
      //   //Функция, которая показывает текущий размер окна в брузере

      //   const screenSize = () => {
      //     console.log(
      //       `Текущие значения размеров окна браузера:\nШирина - ${window.screen.width}\nВысота-  ${window.screen.height}`
      //     );
      //   };

      //   screenSize();

      const updateWindowSize = () => {
        const widthEl = window.innerWidth;
        const heightEl = window.innerHeight;

        const windowSizeEl = document.querySelectorAll(".window-size");

        width.textContent = widthEl;
        height.textContent = heightEl;
      };

      window.addEventListener("load", updateWindowSize);
      window.addEventListener("resize", updateWindowSize);

      //   //Потверждение закрытия страницы

      //   window.addEventListener("beforeunload", function (e) {
      //     // e.preventDefault(); // Куда ты спешишь?
      //     // e.returnValue = ""; // Chrome требует явного указания намерений.
      //     // return "Не хотели бы вы остаться ещё немного?"; // Маленькое уступление для тех, кто сомневается.
      //   });

      window.addEventListener("beforeunload", function (e) {
        e.preventDefault(); //остановка стандартного поведения
        e.returnValue = "";
      });

      //История переходов
      goBack.addEventListener("load", function (e) {
        window.history.back();
      });
      goForward.addEventListener("load", function (e) {
        window.history.forward();
      });
    </script>
  </body>
</html>
